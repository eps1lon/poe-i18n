# API

## formatStats(stats: Stats[], options: Options = {})
Takes an array of Stats and translates them. Used to translate lines
generated by Mods. 

Values can be single values or ranges. Be aware that finding
a corresponding translation requires that the given value range is a subset of
that translation. Providing a value of [0, 5] will throw if there exists only 
a translation for 0 and another one for 1-5. 

### Arguments <a name="formatStats-args"></a>
- stats: the stats that should be considered. Throws an error if
  some identifiers could not be translated
  ```typescript
  type Stat = {
    id: string;
    value: number | [number, number]; 
  };
  ```
- options: options for formatting
  ```typescript
  type Options = {
    data: StatsLocaleData,
    fallback: Fallback | ((id: string, stat: Stat) => string | null)
  }
  ```
  - options.fallback: fallback strategy if a description for a stat was not found.
    If a callback is provided the line is skipped if it returns `null` otherwise
    the returnvalue is used.
  ```typescript
    enum Fallback {
      throw, // throws an error, DEFAULT
      id, // uses the id of the stat
      skip // omits the line
    }
  ```
  - options.data: the translation data. Study the files in `localize-data/` 
    for more infos.
  
  ```typescript
  type StatsLocaleData = {
    // StatIdentifier
    [key: string]: {
      // list of required stat identifiers to fill in the values
      stats: string[]; 
      translations: {
        // directives to match the value '#' for any '[lower, upper]' 
        // for ranges
        matchers: Matcher[];
        // the actual translation
        text: string; 
        // preprocessors for the values
        formatters: {
          // name of the formatter, see src/localize/formatters
          id: string; 
          // 1-based array indef of the required stat value 
          // or a reminder tooltip
          arg: ArrayIndex | ReminderIdentifier;
        }[]; 
      }[];
    };
  }
  ```

## formatStats.configure(options: Options)
Set the default options for option properties that are not provided
when calling `formatStats`

### Arguments
- options: See [documentation of formatStats](#formatStats-args)